\let\oldvec\vec%
\documentclass[]{llncs}
\let\vec\oldvec

\usepackage[T1]{fontenc}
% \usepackage[utf8]{inputenc}
\usepackage[english]{babel}

%\usepackage[backend=biber,style=lncs]{biblatex}
%  \addbibresource{seminar_further-DL.bib}
\bibliographystyle{splncs03}
\usepackage{csquotes}

\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{booktabs}
\setlength{\tabcolsep}{7pt}

\usepackage{todonotes}
\usepackage{microtype}

\DeclareMathOperator{\simi}{simi}

\newcommand{\el}{\(\mathcal{EL}{}\)}
\newcommand{\elh}{\(\mathcal{ELH}{}\)}
\newcommand{\DeltaI}{\Delta^\mathcal{I}}
\newcommand{\dotI}{\cdot^{\mathcal{I}}}
\newcommand{\dl}{\textsc{dl}}
\newcommand{\kb}{\textsc{kb}}
\newcommand{\ria}{\textsc{ria}}
\newcommand{\gci}{\textsc{gci}}
\newcommand{\csm}{\textsc{csm}}
\newcommand{\subsume}[1]{\sqsubseteq_{\mathcal{#1}}}

\title{A Framework for Semantic-based Similarity Measures for \elh-Concepts}
\author{Filippo De Bortoli}
\institute{European Master's Programme in Computational Logic, TU Dresden}% \and \email{filippo.de_bortoli@mailbox.tu-dresden.de}}

\begin{document}
  \maketitle

  \begin{abstract}
    Measuring similarity of concept descriptions in different Description Logics is a challenging task, especially in expressive \dl{}s.
    Moreover, many of the measures devised in the past years had been often defined with respect of a particular cluster of instance data, or they only considered the syntactical aspects of the concept descriptions.

    In this report, the \(\simi\) framework for designing concept similarity measures will be introduced and discussed, from desired properties of such functions to actual design choices.
    Furthermore, a brief perspective into related work will be given, with concern to unsolved problems of \(\simi\) and general challenges for concept similarity measures.
  \end{abstract}

  \section{Introduction}

  Measuring the similarity of two or more concepts is a task that frequently occurs in many real-world cases, where ontologies are employed, ranging from exploration of knowledge bases for information discovery --- as done in~\cite{Gen13} --- to more technical activies, such as ontology alignment.

  As important as a \emph{good} measure for concept similarity is, one has to deal with several issues during the specification, implementation and usage phases of a tool of this kind.
  Most of these have been faced in the work done by Lehmann \& Turhan in~\cite{LeTu12}.

  Which are the intended properties for a concept similarity measure?
  The notion of similarity itself has been largely discussed in the literature (a remarkable reference is the work done in~\cite{Tve77}).
  Among the many, possibly different, existing approaches to similarity, the one shows in [] has been followed in this work.
  In particular, relevant properties of similarity have been described and formalised; some of these have been drawn from what has been already established in the literature, whereas others have been newly introduced.
  These properties are either concerning the mathematical side of a measure or its relation with the underlying representation of the concepts.

  Among description logics, a family of formal languages used to represent knowledge in ontologies, the one investigated and chosen as a base for the work herein reportes is the \elh{} description logic, which has a practical relevance --- for example, in medical ontologies, as in~\cite{Gen13} --- and is part of important standards for semantic technologies.
  In this setting, it is shown how a similarity measure can be defined, such that it is powerful, yet flexible to edit and efficient to compute, given that one uses the right tools in its construction.

  This work also attempts to address another issue: the \emph{portability} and \emph{reliability} of concept similarity measures, across different contexts.
  Indeed, many existing measures are domain-related or depend too much on the dataset upon which they are first defined, assessed and evaluated.
  The choice, here, is that of defining a framework, a general concept similarity measure which can be specifically instantiated, by means of several parameters; this allows the user to tailor the measure to her particular application, without losing the desired properties, guaranteed to hold by the way the introduce measure \(\simi\) has been specified.

  The report has the following structure:
  first, some notions concerning \dl{}s are introduced;
  then, similarity measure are discussed, with their properties;
  next, the framework devised in~\cite{LeTu12} is derived and explained;
  finally, some results are shown, reguarding the properties of the new measure.
  In the end, an overview of related works is presented, followed by a brief conclusion.

  \section{The \(\mathcal{ELH}\) Description Logic}
  Hereafter, the reader must assume that the \elh{} description logic is used where not differently specified.
  For a detailed treatment of the notions here introduced, the interested reader can go to~\cite{DLbook}.

  The syntax of a \dl makes use of two finite and disjoint sets of \emph{concept names}, \(\mathbf{C}\) and \emph{role names}, \(\mathbf{R}\) to build \emph{concept descriptions}, by means of \emph{concept constructors}.
  The semantics of such descriptions is defined with an interpretation \(\mathcal{I} = (\DeltaI,\dotI)\), where \(\DeltaI \ne \emptyset\) is the \emph{interpretation domain} and \(\dotI\) is a mapping which assigns subsets of \(\DeltaI{}\) to each concept and binary relations over \(\DeltaI\) to roles.
  The following table specifies how \emph{\elh-concept descriptions} are syntactically built and semantically interpreted, given an interpretation \(\mathcal{I} = (\DeltaI,\dotI)\), a concept name \(A\), a role name \(r\) and concept descriptions \(C\), \(D\).
  \begin{center}
    \begin{tabular}{lcc}
      \toprule
      Name & Syntax & Semantics \\
      \midrule
      Top & \(\top\) & \(\DeltaI\) \\
      Concept name & \(A\) & \(A^\mathcal{I}\) \\
      Conjunction & \(C \sqcap D\) & \(C^\mathcal{I} \cap D^\mathcal{I}\) \\
      Existential restriction & \(\exists{}r.C\) &
      \(\lbrace d \in \DeltaI \mid \exists e \in \DeltaI.
      (d,e) \in r^\mathcal{I} \land e \in C^\mathcal{I} \rbrace\) \\
      \bottomrule
    \end{tabular}
  \end{center}

  In the description logic \elh{}, each concept description can be expressed as a conjunction of other concepts, which are called its \emph{atoms}.
  % Thanks to this definition, it is possible to express each concept description as a conjunction of \emph{atoms}, which are defined as the elements of the set containing all concept names, \(\top{}\) and all the existential restrictions appearing in \(\mathcal{C}\)(\elh).
  \begin{definition}[Atoms]
    Given concept names \(\mathbf{C}\) and role names \(\mathbf{R}\), the set of \emph{\elh-atoms} \(\mathbf{A}\) is defined as
    \begin{equation}
      \mathbf{A} := \mathbf{C} \cup \lbrace \top \rbrace \cup \lbrace \exists{}r.D \mid r \in \mathbf{R}, D \in \mathcal{C}(\mathcal{ELH}) \rbrace.
    \end{equation}
    Moreover, for \(C = \sqcap_{i=1}^n C_i \in \mathcal{C}(\mathcal{ELH})\), the mapping
    \(\widehat{C} := \lbrace C_i\rbrace_{i=1}^n\) is defined.
  \end{definition}

  For the purposes of this work, terminological and role-hierarchical knowledge has been taken into account.
  A \emph{knowledge base} (\kb) \(\mathcal{K}\) consists of:
  \begin{description}
    \item[\emph{TBox} \(\mathcal{T}\):] a finite set of a finite set of \emph{general concept inclusions} (\gci{}s) or \emph{concept definitions};
  %   \item[\emph{TBox} \(\mathcal{T}\):] a finite set of \emph{general concept inclusions} (\textsc{gci}s) \(C \sqsubseteq D\) or \emph{concept definitions} \(C \equiv D\), where \(C\) is a concept name and \(D\) is a concept description;
  %   an interpretation \(\mathcal{I}\) is a \emph{model} of \(\mathcal{T}\), \(\mathcal{I} \models \mathcal{T}\), if for all \gci{}s \(C \sqsubseteq D\) in it, \(C^\mathcal{I} \subseteq D^\mathcal{I}\) holds --- similarly, \(C^\mathcal{I} = D^\mathcal{I}\) for concept definitions.
  % A TBox T is called \emph{unfoldable} iff it is acyclic, consists of concept definitions and primitive concept definitions only and every concept name occurs at most once on a left-hand side of a concept axiom.
  %   This kind of TBox can be normalised and expanded in an equivalent TBox containing exclusively concept definitions, where only primitive concept names appear on the right hand side of these concept definitions.
    \item[\emph{RBox} \(\mathcal{R}\):] a finite set of \emph{role inclusion axioms}, hereafter (\ria{}s).
    % \item[\emph{RBox} \(\mathcal{R}\):] a finite set of \emph{role inclusion axioms} (\ria{}s) \(r \sqsubseteq s\), where \(r\), \(s\) are roles; an interpretation \(\mathcal{I}\) is a model of \(\mathcal{R}\), \(\mathcal{I} \models \mathcal{R}\), if for all \ria{}s \(r \sqsubseteq s\), \(r^\mathcal{I} \subseteq s^\mathcal{I}\) holds.
  \end{description}

  An interpretation \(\mathcal{I}\) is a \emph{model} for a TBox \(\mathcal{T}\) and a RBox \(\mathcal{R}\) if it satisfies the semantic conditions which are defined in the following table, along with the sintax of \gci{}s, concept definitions and \ria{}s; here, \(A\) is a concept name, \(C\), \(D\) are concept descriptions and \(r\), \(s\) are role names.
  \begin{center}
    \begin{tabular}{lcc}
      \toprule
      Name & Syntax & Semantics \\
      \midrule
      General concept inclusion & \(C \sqsubseteq D\) & \(C^\mathcal{I} \subseteq D^\mathcal{I}\) \\
      Concept definition & \(A \equiv C\) & \(A^\mathcal{I} = C^\mathcal{I}\) \\
      Role inclusion axiom & \(r \sqsubseteq s\) & \(r^\mathcal{I} \subseteq s^\mathcal{I}\) \\
      \bottomrule
    \end{tabular}
  \end{center}
  A TBox T is called \emph{unfoldable} iff it is acyclic, consists of concept definitions and primitive concept definitions only and every concept name occurs at most once on a left-hand side of a concept axiom.
  This kind of TBox can be normalised and expanded in an equivalent TBox containing exclusively concept definitions, where only primitive concept names appear on the right hand side of these concept definitions.

  Among the various reasoning services that can be applied over \elh{} \kb{}s, a useful one is the \emph{subsumption} of concepts: the concept \(C\) is \emph{subsumed} by \(D\) w.r.t.\ a \kb{} \(\mathcal{K}\) iff \(C^\mathcal{I} \subseteq D^\mathcal{I}\) for all models \(\mathcal{I}\) of \(\mathcal{K}\), in symbols \(C \subsume{K} D\);
  if \(C\) and \(D\) both subsume each other, then they are \emph{equivalent}, denoted by \(C \equiv_{\mathcal{K}} D\).
  Similarly, \(r \subsume{R} s\) if \(r^\mathcal{I} \subseteq s^\mathcal{I}\) for all models \(\mathcal{I}\) of \(\mathcal{R}\).

  The computation of a normal form for \el{} concepts is well described in~\cite{DLbook}; however, the addition of role hierarchy contribution made in~\cite{LeTu12} is the introduction of an \elh-normal form for concept descriptions, which can be computed in polynomial time.
  Specifically, a choice function \(ch{}\) is devised such that every role is replaced by a picked representative of its \(\equiv_\mathcal{R}\)-equivalence class.
  \begin{definition}
    A concept \(C \in \mathcal{C}\)(\elh) is in \emph{\elh-normal form} w.r.t. a RBox \(\mathcal{R}\) if all its subconcepts are closed under the application of the following rules:
    \begin{align*}
      A \sqcap \top &\mapsto A & A \sqcap A &\mapsto A \tag{1--2}\\
      \exists{}r.C^\prime &\mapsto \exists{}ch([r]).C^\prime &
      \exists{}r.C^\prime \sqcap \exists{}s.D^\prime &\mapsto
      \exists{}r.C^\prime\,\,\text{if}\,\,r\subsume{R}s, C^\prime \sqsubseteq D^\prime \tag{3--4}
    \end{align*}
  \end{definition}

  \section{Measuring concept similarity}

  How may one quantitatively measure the amount of similarity between two concepts?
  In many real-world examples, ranging from cognitive sciences, biology, physics, to computer vision, the underlying mathematical structure is that of a \emph{metric space}, which is endowed with a \emph{metric}.
  In particular, the similarity of two concepts can be interpreted as a relative measure: thus, it is possible to take normalised metric spaces, where distances are bound to live in the unit interval.
  In this view, the metric distance between two concepts expresses their dissimilarity: thus, two totally similar concepts will be in the same position in the space, with dissimilar concepts being further and further.
  Therefore, given a normalised metric space \((D,d)\), the similarity function \(s\) inducted by \(d\) corresponds to \(s(a,b) := 1 - d(a,b)\).
  Generally speaking, a \emph{similarity function} \(s \colon D^2 \to [0,1]\) comply with following specification, where \(a,b,c \in D\):
  \begin{enumerate}
    \item \(s(a,b) = 1\) iff \(a = b\),
    \item \(s(a,b) = s(b,a)\),
    \item \(1 + s(a,b) \ge s(a,c) + s(c,b)\).
  \end{enumerate}

  Thus, a \emph{concept similarity measure} over \elh-concepts consists of a symmetric mapping \(\mathrm{sim} \colon {\mathcal{C}(\mathcal{ELH})}^2 \to [0,1]\).

  How much can be directly embedded in this definition?
  Which are the properties globally recognised as peculiar to measure concept similarity?
  A \emph{property}, here, is seen as a formalisation of the expected behaviour of the defined measure.
  Unsurprisingly, almost all the features, that one can think of as desirable for such a tool, have encountered some criticism in different research fields.

  \paragraph{Symmetry.} This property is one of the most widely recognised as an essential feature in similarity measures for \dl{}s, although it has been contested in fields which are more involved with the study of human reasoning, as seen in~\cite{Tve77}.
  This is the only property that has been incorporated in the definition of a concept similarity measures in~\cite{LeTu12}.
  % Indeed, we extend what said so far, by calling \emph{concept similarity measure} a symmetric mapping \(\mathrm{sim} \colon {\mathcal{C}(\mathcal{ELH})}^2 \to [0,1]\), i.e. \(\mathrm{sim}(C,D) = \mathrm{sim}(D,C)\) for all \elh-concepts \(C\), \(D\).

  \paragraph{Triangle inequality.} This is similarly acknowledged as being not an essential feature of human reasoning in the work by Tversky in~\cite{Tve77}, while it is largely accepted in the context of description logics.
  A context similarity measure \(s\) over the set \(D\) satisfies the triangle inequality if, for all \(a\), \(b\), \(c \in D\),
  \(s(a,c) \le s(a,b) + s(b,c)\).
  Strangely enough, almost none of the concept similarity measures found in the literature up until 2012 fulfills fulfills the triangle inequality.
  The only exception is the Jaccard Index, which is \emph{not} meant to be such a measure.
  The concept similarity measure \(\simi\), as defined later in this report, does not fulfill this condition.

  Some advances in the direction of defining a measure with this property can be found in~\cite{DAB14}, where a measure respecting the triangle inequality (but missing other properties) had been provided for the \el{} \dl.

  \paragraph{Concept equivalence.} Equivalence closure and equivalence invariance have found little to no criticism in the literature.
  Indeed, it is regarded as necessary for two equivalent concepts to be totally similar, and equivalent concepts should share their similarity behaviour toward other concepts.
  These properties can be formally stated as follows: for all concepts \(C\), \(D\) and \(E\), a concept similarity measure \(s\) is \emph{equivalence invariant} if \(C \equiv D\) implies that \(s(C,E) = s(D,E)\), while it is \emph{equivalence closed} if \(s(C,D) = 1\) is equivalent to \(C \equiv D\).

  \paragraph{Subsumption.} The notion of subsumption can be exploited to obtain an ordering over concepts.
  This, in turn, can be abstracted to the level of a concept similarity measure. How?
  Informally, if \(C\), \(D\) and \(E\) are \elh-concepts and \(C \subsume{K} D \subsume{K} E\), \(D\) is closer to \(E\) than \(C\), thus more similar;
  also, it can be noticed that \(D\) is closer to \(C\) than \(E\).
  These two insights can be captured as \emph{subsumption preserving} and \emph{reverse subsumption preserving}, where the concept similarity measure \(s\) obeys to the constraints \(s(C,E) \le s(D,E)\) (reverse subs.\ preserving) and \(s(C,D) \ge s(C,E)\) (direct subs.\ preserving).

  \paragraph{Structural dependence} is the last property that had been introduced for concept similarity measures.
  The idea behind structural dependence is that as the number of common \emph{features} of two concepts increases and the number of uncommon features is constant, then the similarity of these concepts must be increasing.
  Such distinct features can be thought of as sequence of atoms such that no two atoms in the sequence are in subsumption relation.
  Indeed, a \csm{} is \emph{structurally dependent} iff, given a sequence \({(C_k)}_{k=1}^n\) of atoms such that if \(1 \le i,j \le n\) and \(i \ne j\), then \(C_i \not\sqsubseteq C_j\), and defining \(D_n := \sqcap_{i=1}^n C_i \sqcap D\) for a given concept name, then \(\lim_{n \to \infty}s(D_n,E_n) = 1\) holds.

  \section{\(\simi{}\): a blueprint for designing CSMs}

  The concept similarity measure \(\simi\), which is going to be introduced in this chapter, is characterised as a \emph{structural measure}: it is defined according to the syntax of the concepts which it is intended to measure, rather than on their interpretations, as in \emph{interpretation-based} measures.

  \paragraph{Preprocessing.}
  The usage of \(\simi{}\) requires a preliminar processing of the involved knowledge base.
  Since only unfoldable TBoxes are considered, it is possible to consider its \emph{expansion}, which is semantically equivalent to the non-expanded version and only contains primitive concept names on the right hand side of concept definitions.
  Then, each concept is replaced by its \elh-normal form; being such a normal form unique up to associativity and commutativity, \emph{equivalence invariance} is ensured for any measure employed to test concept similarity on the \kb.

  \paragraph{Directed and reverse similarity.}
  To test equivalence of two concepts \(C\) and \(D\), a possible way is to check whether subsumption holds in both directions, that is, \(C \sqsubseteq D\) and \(D \sqsubseteq C\).
  This approach can be astracted to the mathematical level, by first defining a \emph{directed similarity} measure --- a generalisation of the subsumption operator ---, to later combine values in both directions by means of another operator.
  The directed similarity measure \(\simi_d\) is going to be derived later in this section; finally, \(\simi\) is going to be defined as \(\simi(C,D) := \simi_d(C,D) \otimes \simi_d(D,C)\).
  The chosen operator should fit certain conditions, which guarantee that the resulting measure complies with the desired properties.
  This is achieved by considering a \emph{fuzzy connector} \(\otimes \colon {[0,1]}^2 \to [0,1]\), which is an operator that fulfills the following conditions, for all \(x, y \in [0,1]\):
  \begin{itemize}
    \item \(x \otimes y = y \otimes x\) --- \emph{commutativity};
    \item \(x \otimes y = 1\) iff \(x = y = 1\) --- \emph{equivalence closure};
    \item if \(x \le y\), then \(1 \otimes x \le 1 \otimes y\) --- \emph{weak monotonicity};
    \item if \(x \otimes y = 0\), then at least one between \(x \ne 0\) or \(y \ne 0\) does not hold.
  \end{itemize}

  \begin{example}[Fuzzy connector]
    The operator \(\otimes \colon {[0,1]}^2 \to [0,1]\) defined as
    \[
    x \otimes y := \frac{x^2y + y^2x}{2} \qquad x,y \in [0,1]
    \]
    is a fuzzy operator.
    The commutativity follows from the commutativity of the sum and the dot product over \([0,1]\). Weak monotonicity holds, because \(x \le y\) implies that \((x \cdot (x+1))/2 \le (y \cdot (y+1))/2\).

    This operator is equivalence closed: assume that \(x \otimes y = 1\) and \(x \ne 1\), \(y \ne 1\), and \(x \le y\) without loss of generality.
    Since \(x^2y = 2 - xy^2\) and \(x^2y \le xy^2\), it follows that \(2-xy^2 \le xy^2\), hence \(xy^2 \ge 1\); however, this is a contradiction to the hypothesis that \(x\), \(y \in [0,1]\), thus at least one between \(x\), \(y\) equals \(1\).
    Suppose that \(y = 1\): then, from \((x^2 + x)/2 = 1\) follows that \(x = 1\); analogously, it can be proved that \(x = 1\) implies \(y = 1\).

    Finally, it is possible to show that \(x = 0\) or \(y = 0\) when \(x \otimes y = 0\).
    Indeed, from
    \[
    \frac{x^2y + y^2x}{2} = 0 \implies x^2y = - y^2x
    \]
    one can conclude that \(x^2y = y^2x = 0\), hence \(x = 0\) or \(y = 0\).
  \end{example}
  In the \(\simi{}\) framework, the choice of a fuzzy operator provides \emph{symmetry} --- thanks to commutativity ---, \emph{equivalence closure} and \emph{sumbsumption preserving}, which follows from weak monotonicity.

  \paragraph{Measuring concept names.}
  The function \(\simi_d\) had been first derived from the function
  \[
  d(C,D) :=
  \frac{\lvert \widehat{C} \cap \widehat{D}\rvert}{\lvert \widehat{C} \rvert},
  \]
  inspired by the Jaccard Index, described in~\cite{Ja01}.
  However, this function does not take into account existential restrictions.
  This issue is partially solved by the following rewriting:
  \[
    \lvert \widehat{C} \cap \widehat{D}\rvert :=
    \sum_{C^\prime \in \widehat{C}}\max_{D^\prime \in \widehat{D}}
    \delta_{C^\prime}^{D^\prime},
  \]
  where \(\delta_{C^\prime}^{D^\prime}\) equals \(1\) when the two concepts are equal, \(0\) otherwise. Later, it will be shown how further modifications, made possible by this one, are going to allow incorporating existential restrictions.
  Another issue arises, with this new definition: it is not possible to distinguish between totally dissimilar and not totally similar concepts, since \(\delta_{C^\prime}^{D^\prime}\) checks syntactical equality of two concepts, assuming that otherwise, they cannot be similar at all.
  Again, the definition is refined by introducing a measure over concept and role name, such that, given adequate conditions, the desired properties for \(\simi\) are respected. A function \(pm \colon \mathbf{C}^2 \cup \mathbf{R}^2 \to [0,1]\) is a \emph{primitive measure} if:
  \begin{enumerate}
    \item for all concept names \(A\), \(B\), \(pm(A,B) = 1\) iff \(A = B\);
    \item for given role names \(r\), \(s\), \(t\):
    \begin{enumerate}
      \item \(pm(r,s) = 1\) iff \(s \sqsubseteq r\),
      \item if \(r \subsume{R} s\), then \(pm(r,s) > 0\),
      \item if \(t \subsume{R} s\), then \(pm(r,s) \le pm(r,t)\).
    \end{enumerate}
  \end{enumerate}
  This definition is sufficient to provide \emph{equivalence closure} and \emph{subsumption preserving} in \(\simi\).

  To be able to deal with existential restrictions, all the possible cases should be covered:
  \begin{enumerate}
    \item When similarity between concept names is computed, the primitive measure \(pm\) is sufficient, since it handles this case directly.
    \item If a concept name and an existential restriction are compared, the similarity will be \(0\).
    \item In the final case, it would be needed two compute the similarity of two existential restrictions, namely \(\exists{}r.C^\star{}\) and \(\exists{}s.D^\star{}\).
    To achieve this, both role names and concept names appearing should be considered.
    While the roles are handled by \(pm\), a recursive call of the measure over \(C^\star\), \(D^\star\) is needed.
    To combine these two values, and to establish how much influence does each one exert on the final measure, an affine combination is introduced, along with a value \(w \in (0,1)\):
    \[
    d(\exists{}r.C^\star,\exists{}s.D^\star) :=
    pm(r,s) \cdot \left(w + (1-w)d(C^\star,D^\star)\right).
    \]
  \end{enumerate}
  In this way, the case \(d(C^\star,D^\star) = 0\) allows one to understand whether the roles are similar --- then the similarity equals \(w\), otherwise it would be equal to \(0\).
  What is a \emph{good} value for \(w\)? By default, \(w = 0.01\).
  A feasible value for \(w\) may be proportionally decreasing with respect to the natural number \(n\) such that the two concepts \(C\), \(D\) of the form
  \[
  C = \overbrace{\exists{}r.\dotsb{}\exists{}r.}^{n\;\text{times}}A \quad
  D = \overbrace{\exists{}r.\dotsb{}\exists{}r.}^{n\;\text{times}}B
  \]
  with \(pm(A,B) = 0\) are almost, if not totally similar.

  \paragraph{Information on similarity.}
  The last issue that was dealt with in~\cite{LeTu12} concerned the \(\max{}\) operator appearing in the definition of the similarity measure developed so far.
  Indeed, the claim is that such an operator is not making full use of the available information, to compute the similarity of two concepts; that happens, because only the \emph{best matching} atom in the set \(\widehat{D}\) is kept, discarding all the others, which might still be similar to the considered atom of \(\widehat{C}\).

  The maximum operator fits into a class of functions called \emph{triangular conorms}; %, presented in \todo{Insert reference here.[14] on paper.};
  in particular, it is an instance of a \emph{bounded \(t\)-conorm}.
  \begin{definition}%[Bounded t-conorm]
    An operator \(\oplus \colon {[0,1]}^2 \to [0,1]\) is a \emph{bounded t-conorm} if it satisfies the following conditions: \(\oplus\) is commutative, associative, \(0\) is the neutral element and for all \(x\), \(y\), \(z\), \(w \in [0,1]\),
    \begin{itemize}
      \item if \(x \le z\) and \(y \le w\), then \(x \oplus y \le z \oplus w\), i.e. \(\oplus{}\) is \emph{monotonic};
      \item if \(x \oplus y = 1\), then \(x = 1\) or \(y = 1\), i.e. \(\oplus{}\) is \emph{bounded}.
    \end{itemize}
  \end{definition}
  Moreover, \(\max\) is the strongest \(t\)-conorm, which means that all the other \(t\)--conorms yield a value equal or greater than \(\max\); this, intuitively, reflects the fact that \(\max\) does not make good use of the available information.
  Finally, \(0\) is the unit element of \(t\)-conorms: this implies that totally dissimilar concepts are not influencing the final value of the measure.
  Thus, in the final definition of \(\simi_d\), \(\max\) will be replaced by a \emph{bounded \(t\)-conorm}, which is a parameter of the framework.

  \paragraph{Relevance of concept names.}
  Up until now, all the atoms of \(\mathcal{C}\)(\elh) had the same relevance, in determining how concepts differ from each other.
  However, it is likely that some concepts might be prioritised in some use cases.
  Hence, another parameter that has been added to the framework is a function that specifies how much an atom influences the similarity between concepts.
  \begin{definition}%[Weighting function]
    A \emph{weighting function} is a mapping \(g \colon \mathbf{A} \to \mathbb{R}_+\), where \(\mathbf{A}\) is the set of \emph{atoms}.
  \end{definition}

  Since \(\mathbf{A}\) can contain infinitely many elements, it would be desirable to find a way to define a weighting function by using only some "essential" information.

  \paragraph{Primitive weighting.}
  Thanks to the preprocessing phase, each concept in \elh-normal form does not contain any instance of \(\top\): hence, it is not needed to weigh it.
  Another aspect of this normal form is that it is possible to weigh just a subset of \(\mathbf{R}\), that is the image of the function \(ch\) used to compute the \elh-normal form; in this way, at most \(\lvert \mathbf{R} \rvert\) roles would need to be weighted.
  In this case, all the role names are used.
  Finally, concept names can be either primitive or defined:
  in the latter case, thanks to preprocessing again, a unique definition can be find in the expanded TBox, which right side contains exclusively primitive concept names.

  Using these facts, the following definition is introduced.
  \begin{definition}[Primitive weighting function]
    A \emph{primitive weighting function} is a mapping \(f \colon \mathbf{P} \cup \mathbf{R} \to \mathbb{R}_+\), where \(\mathbf{P}\) is the subset of \(\mathbf{C}\) of \emph{primitive} concept names.
  \end{definition}
  Given a weighting primitive function, it is possible to extend it to a weighting function \(g\) in the following way:
  \begin{equation}\label{prim-weigh}
    g(C) :=
    \begin{cases}
      f(C) & C \in \mathbf{P} \\
      f(r) & C = \exists{}r.D, D \in \mathcal{C}(\mathcal{ELH}) \\
      \max_{D^\prime \in \widehat{D}}f(D) & C \equiv D \; \text{appears in the expanded TBox.}
    \end{cases}
  \end{equation}
  \begin{proposition}
    With the expansion given in~\eqref{prim-weigh}, every primitive weighting function uniquely determines a weighting function.
  \end{proposition}
  \begin{proof}
    Assume that the weighting functions \(g\), \(h\) are both derived from \(f\) as in~\eqref{prim-weigh}.
    \begin{enumerate}
      \item If \(C \in \mathbf{P}\), then
      \(g(C) = f(C) = h(C)\) by definition;
      \item if \(C =  \exists{}r.D, D \in \mathcal{C}(\mathcal{ELH})\), then \(g(C) = f(r) = h(C)\);
      \item if \(C \equiv D\) is the \emph{unique} definition of \(C\) in the TBox \(\mathcal{T}\), then
      \(g(C) = \max_{D^\prime \in \widehat{D}}f(D) = h(C)\).
    \end{enumerate}
    Thus, it is possible to conclude that \(g(C) = h(C)\) for all \(C \in \mathbf{A} \setminus \lbrace \top \rbrace\).
  \end{proof}
  This approach can be further refined, for example, by substituting the \(\max\) function with another, perhaps more suitable function.
  %Notice that, given a primitive weighting function, this extension to a weighting function can be computed in polynomial time (this last claim needs to be verified).

\subsection{The measure of directed similarity: \(\simi_d\)}

  \begin{definition}[\(\simi_d\)]\label{simi-d}
    The measure of \emph{directed similarity} \(\simi_d \colon {\mathcal{C}(\mathcal{ELH})}^2 \to [0,1]\), given the following parameters:
    \begin{enumerate}
      \item a bounded \(t\)-conorm \(\oplus\),
      \item a primitive measure \(pm\),
      \item a weighting function \(g\),
      \item \(w \in (0,1)\),
    \end{enumerate}
    is defined as:
    \begin{align}
      \simi_d(\top,D) &= 1 \quad
      \text{for all}\; D \in \mathcal{C}(\mathcal{ELH}) \\
      \simi_d(C,D) &=
      \frac{\sum_{C^\prime \in \widehat{C}}\left(g(C^\prime) \cdot \bigoplus_{D^\prime \in \widehat{D}} \simi_d(C^\prime, D^\prime)\right)}%
      {\sum_{C^\prime \in \widehat{C}}g(C^\prime)} \quad \text{if}\; C \ne \top \label{simi:general}\\
      \simi_d(A,B) &= pm(A,B) \quad \text{for atoms}\; A,B \\
      \simi_d(\exists{}r.C,\exists{}s.D) &=
      pm(r,s) \cdot \left(w + (1-w)\simi_d(C,D)\right) \\
      \simi_d(C,D) &= 0 \quad \text{otherwise}.
    \end{align}
  \end{definition}

  \begin{definition}[\(\simi\)]
    The similarity measure \(\simi\) is defined as \(\simi(C,D) := \simi_d(C,D) \otimes \simi_d(D,C)\), where \(\otimes{}\) is a fuzzy connector.
  \end{definition}

  The following lemma shows an interesting property of \(\simi_d\), which can be used to prove some of its important features.

  \begin{lemma}
    Let \(C\), \(D\) and \(E\) be \elh-concept descriptions.
    Then,
    \begin{enumerate}
      \item \(\simi_d(C,D) = 1\) iff \(D \sqsubseteq C\);
      \item if \(D \sqsubseteq E\), then \(\simi_d(C,E) \le \simi_d(C,D)\).
    \end{enumerate}
  \end{lemma}
  \begin{proof}
    The proof of this theorem can be found in~\cite{LeTu12}.
  \end{proof}
  \begin{theorem}
    The \csm{} \(\simi\) is symmetric, closed and invariant under equivalence and preserves subsumption, for each instantiation of its parameters.
  \end{theorem}
  \begin{proof}
    Let \(C\), \(D\) and \(E\) be \elh-concept descriptions.

    The symmetry of \(\simi\) follows from the commutativity of the fuzzy connector.

    The invariance under equivalence of \(\simi\) is guaranteed by the preprocessing step.
    Indeed, two semantically equivalent \elh-concepts are transformed into the same \elh-normal form.
    By assuming that \(C \equiv D\), this insight allows the conclusion \(\simi(C,E) = \simi(D,E)\).

    The closure under equivalence is proved by the following equivalence chain:
    \begin{equation*}
      \begin{split}
        C \equiv D &\iff C \sqsubseteq D \land D \sqsubseteq C \iff
        \simi_d(C,D) = 1 \land \simi_d(D,C) = 1 \\ &\iff
        \simi(C,D) = \simi_d(C,D) \otimes \simi_d(D,C) = 1.
      \end{split}
    \end{equation*}

    In a similar way, subsumption preserving can be proved.
  \end{proof}
  The \csm{} \(\simi\) fulfills most of the desired properties.
  Indeed, in~\cite{LeTu12}, it is shown that it is \emph{equivalence closed}, \emph{equivalence invariant}, \emph{symmetric} and \emph{subsumption preserving} for every choice of the parameters.
  For adequates choice of the fuzzy connector and the weighting function, \emph{structural dependence} can be achieved.
  The only properties that cannot be guaranteed by \(\simi\) are \emph{triangle inequality} and \emph{reverse subsumption preserving}, since similarity values between the atoms of the involved concepts are not taken into account, in the computation of the similarity value of the concepts.

  \begin{proposition}
    The \csm{} \(\simi\) can be computed efficiently: if the provided fuzzy connector, bounded \(t\)--conorm, primitive measure and weighting function can be computed in polytime, so can \(\simi\), with time polynomial in the size of the measured concepts.
  \end{proposition}
  \begin{proof}
    From the assumption that the fuzzy connector can be computed in polytime, it suffices to show that \(\simi_d\) can be computed in polytime.
    The assumption that the primitive measure can be computed in polytime allows to conclude that all the cases of \(\simi\) where \emph{atoms} are measured run in polynomial time.

    In the most general case~\eqref{simi:general}, the number of similarity values that have to be computed amounts to \(\lvert \widehat{C} \rvert \cdot \lvert \widehat{D} \rvert\).
    Moreover, the depth of the recursion tree is bounded by the size of the concepts \(C\) and \(D\).
    Thus, we can conclude that \(\simi\) runs in polynomial time, in the size of the measured concepts.
  \end{proof}

  \section{Related work}

  \paragraph{The triangle inequality.} While the majority of similarity measures actually defined do not respect the triangle inequality, for \el-concept descriptions an alternative approach had been developed in~\cite{DAB14}, where concepts in \el{} normal form are translated into \emph{description trees}; then, the similarity measures in there defined, based on the description trees of the concepts, though being non monotone and not structurally dependent, respect triangle inequality.

  \paragraph{Subsumption preservation.} An exploit of subsumption preservation as a guiding principle of similarity measures had been adopted in~\cite{Se16},
  as a way to improve evaluation methods, in which subsumption preservation is used to populate query inventories, which are then used to perform the evaluation of word embeddings.

  \paragraph{General TBoxes.} A general treatment of TBoxes in the context of similarity evaluation of relaxed instances of \el-concepts, had been included in a follow-up work, which introduces a treatment for both the general and the unfoldable case (\cite{Ec14}).

  \paragraph{Approximation.} Approximation grades, induced by concept similarity measures and complexity of relative threshold \dl{}s, are discussed in~\cite{Ba17}, where it is shown how \csm{}s for \el{} description logics can be employed to derive a grade membership function and consequently a threshold \dl.

  \section{Conclusion}

  In this report, the concept similarity measure \(\simi\), which possess some interesting and useful properties, has been introduced.

  Some of its properties have been explored, such as invariance and closure under equivalence or symmetry, and it has been shown how its computation can be considered efficient.

  The path towards the definition of such a measure has been illustrated, with a focus on each single parameter, along with the motivations that justified their usage.
  Most of the desired properties have been successfully incorporated, while others, like triangle inequality, have been not included, but may be possibly achieved.

  While \elh{} is a good and widely used \dl{}, the question is whether a similar measure might be extended to more expressive description logics, without losing its peculiar features.
  It would also be worthy to investigate the possibility of using general TBoxes, where cycles may break the behaviour of \(\simi\) as it is defined now.

  Finally, it would be interesting to obtain a full implementation of \(\simi\), in order to be able to assess it against other existing measures, as well as to start using it to evaluate concept similarity in ontologies.


  \begin{thebibliography}{1}
    \bibitem{DLbook}
      Baader, Franz and Horrocks, Ian and Lutz, Carsten and Sattler, Uli.
      \textit{An Introduction to Description Logic}.
      Cambridge University Press, Cambridge, 2017.
    \bibitem{Tve77}
      Tversky, Amos.
      \textit{Features of Similarity}.
      Psychology review, 84(07):327-352, 1977.
    \bibitem{LeTu12}
      Lehmann, Karsten and Turhan, Anni-Yasmin.
      \textit{A Framework for Semantic-based Similarity Measures for \elh-Concepts}.
      Logics in Artificial Intelligence - 13th European Conference, (07):307-319, 2012.
    \bibitem{Lae15}
      Lätsch, Paul and Turhan, Anni-Yasmin.
      \textit{Simi-Framework for Concept-Similarity-Measures: property analysis and expansion to more powerful Description Logics}.
      Diplomarbeit, Technische Universität Dresden, 2015.
    \bibitem{dSF08}
      d’Amato, Claudia and Staab, Steffen and Fanizzi, Nicola.
      \textit{On the Influence of Description Logics Ontologies on Conceptual Similarity}.
      Knowledge Engineering: Practice and Patterns, 48-63, 2008.
    \bibitem{DAB14}
      Distel, Felix and Atif, Jamal and Bloch, Isabelle.
      \textit{Concept dissimilarity based on tree edit  distance and morphological dilation}.
      ECAI, 2014.
    \bibitem{Ja01}
      Jaccard, Paul.
      \textit{\'Etude comparative de la distribution florale dans une portion des alpes et des jura}.
      Bulletin de la Société Vaudoise des Sciences Naturelles, 37: 547–579, 1901.
    \bibitem{Se16}
      Seyed, A. Patrice.
      \textit{Subsumption Preservation as a Comparative Measure for Evaluating Sense-Directed Embeddings}.
      ACL 2016, 90, 2016.
    \bibitem{Ec14}
    Ecke, Andreas, Rafael Peñaloza and Anni-Yasmin Turhan.
    \textit{Similarity-based relaxed instance queries.}
    Journal of Applied Logic, (13):480-508, 2015.
    Ecke, Andreas, Rafael Peñaloza, and Anni-Yasmin Turhan.
    \textit{Similarity-Based Relaxed Instance Queries}.
    PRUV, 101–113, 2014.
    \bibitem{Ba17}
    Baader, Franz, and Oliver Fernández Gil.
    \textit{Decidability and Complexity of Threshold Description Logics Induced by Concept Similarity Measures}.
    Proceedings of the Symposium on Applied Computing, 983–988, 2017.
    \bibitem{Gen13}
    Gentleman, R.
    \textit{Visualizing and Distances Using GO}.
    2013.% This reference is unclear.
  \end{thebibliography}
  %\bibliography{seminar_further-DL}%

\end{document}
